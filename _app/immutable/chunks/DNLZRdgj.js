import{a0 as y}from"./Bg5eBiJM.js";const g=(e,t)=>{if(Object.is(e,t))return!0;const l=typeof e;if(l!==typeof t)return!1;switch(l){case"string":case"number":case"bigint":case"boolean":case"symbol":case"undefined":case"function":return!1}if(e===null||t===null)return!1;const s=e.constructor;if(s!==t.constructor)return!1;if(Array.isArray(e)){const r=e.length;if(t.length!==r)return!1;for(let n=0;n<r;n++)if(!g(e[n],t[n]))return!1;return!0}if(s===Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(s===Map){if(e.size!==t.size)return!1;for(const[r,n]of e)if(!t.has(r)||!g(n,t.get(r)))return!1;return!0}if(s===RegExp)return e.source===t.source&&e.flags===t.flags;if(s===Date)return Object.is(e.getTime(),t.getTime());if(s===ArrayBuffer){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t),f=e.byteLength;for(let u=0;u<f;u++)if(r[u]!==n[u])return!1;return!0}if(ArrayBuffer.isView(e)){if(s===DataView){const n=e.byteLength;if(t.byteLength!==n)return!1;for(let f=0;f<n;f++)if(e.getUint8(f)!==t.getUint8(f))return!1;return!0}if(t.length!==e.length)return!1;const r=e.length;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}if(s===Number)return Object.is(e.valueOf(),t.valueOf());if(s===Boolean)return e.valueOf()===t.valueOf();if(s===Error)return e.message===t.message&&e.name===t.name;if(s===Promise)return!1;const i=Object.keys(e),c=i.length;if(c!==Object.keys(t).length)return!1;for(let r=0;r<c;r++){const n=i[r];if(!(n in t)||!g(e[n],t[n]))return!1}return!0},p=e=>t=>{let l=!1,s=0,i=null,c,r,n,f;const u=()=>{if(!i)return;const o=i;i.disconnect(),n&&n({intersecting:l,intersections:s,el:t,observer:o}),i=null};return y(()=>{const o=e();if(o==null){r=void 0,n=void 0,f=void 0,i&&u();return}let a;if(typeof o=="function"?(r=o,n=void 0,f=void 0,a=void 0):(r=o.onintersect,n=o.ondisconnect,f=o.count,a=o.options),f===0){i&&u();return}(!g(c,a)||!i)&&(i&&u(),l=!1,s=0,c=a,i=new IntersectionObserver(d=>{l=d[0].isIntersecting,r&&i&&r({intersecting:l,intersections:s,el:t,observer:i,disconnect:u}),l?s++:f&&f>0&&s>=f&&u()},a),i.observe(t))}),u};export{p as i};
